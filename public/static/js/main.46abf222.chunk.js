(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(62)},52:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(40),o=a.n(l),i=a(12),c=a(13),u=a(15),s=a(14),m=a(16),p=a(22),d=a(24),b=a(17),h=a.n(b),E=(a(52),a(37),a(18)),f=a(30),v=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setHeader",value:function(e){return"show"===e?"DISPLAY BOOK DETAILS":"edit"===e?"EDIT BOOK INFORMATION":"ADD NEW BOOK"}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-light"},this.setHeader(this.props.headerTitle))}}]),t}(r.a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"table table-hover table-bordered table-striped mt-3 text-white"},r.a.createElement("thead",null,r.a.createElement("th",null,"Key"),r.a.createElement("th",null,"Value")),r.a.createElement("tr",null,r.a.createElement("td",null,"Book ID"),r.a.createElement("td",null,this.props.book._id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Book Title"),r.a.createElement("td",null,this.props.book.title)),r.a.createElement("tr",null,r.a.createElement("td",null,"Book Author"),r.a.createElement("td",null,this.props.book.author)),r.a.createElement("tr",null,r.a.createElement("td",null,"Book Description"),r.a.createElement("td",null,this.props.book.description)),r.a.createElement("tr",null,r.a.createElement("td",null,"Book Publish Year"),r.a.createElement("td",null,this.props.book.published_year)),r.a.createElement("tr",null,r.a.createElement("td",null,"Book Publisher"),r.a.createElement("td",null,this.props.book.publisher)),r.a.createElement("tr",null,r.a.createElement("td",null,"Book Update Time"),r.a.createElement("td",null,this.props.book.updated_date)))}}]),t}(n.Component);function g(){var e=Object(p.a)(["\n    mutation AddBook(\n        $isbn: String!,\n        $title: String!,\n        $author: String!,\n        $description: String!,\n        $publisher: String!,\n        $published_year: Int!) {\n        addBook(\n            isbn: $isbn,\n            title: $title,\n            author: $author,\n            description: $description,\n            publisher: $publisher,\n            published_year: $published_year) {\n            _id\n        }\n    }\n"]);return g=function(){return e},e}var y=h()(g()),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a,n,l,o;return r.a.createElement(E.b,{mutation:y},function(i,c){var u=c.loading,s=c.error;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{onSubmit:function(r){r.preventDefault(),i({variables:{isbn:e.value,title:t.value,author:a.value,description:n.value,publisher:o.value,published_year:parseInt(l.value)}}),e.value="",t.value="",a.value="",n.value="",o.value=null,l.value=""}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"isbn"},"ISBN:"),r.a.createElement("input",{type:"text",className:"form-control",name:"isbn",ref:function(t){e=t},placeholder:"ISBN"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title:"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",ref:function(e){t=e},placeholder:"Title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Author:"),r.a.createElement("input",{type:"text",className:"form-control",name:"author",ref:function(e){a=e},placeholder:"Author"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description:"),r.a.createElement("textarea",{className:"form-control",name:"description",ref:function(e){n=e},placeholder:"Description",cols:"80",rows:"3"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Publisher:"),r.a.createElement("input",{type:"text",className:"form-control",name:"publisher",ref:function(e){o=e},placeholder:"Publisher"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Published Year:"),r.a.createElement("input",{type:"number",className:"form-control",name:"published_year",ref:function(e){l=e},placeholder:"Published Year"})),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")),u&&r.a.createElement("p",null,"Loading..."),s&&r.a.createElement("p",null,"Error :( Please try again"))))})}}]),t}(n.Component);function O(){var e=Object(p.a)(["\n    mutation updateBook(\n        $id: String!,\n        $isbn: String!,\n        $title: String!,\n        $author: String!,\n        $description: String!,\n        $publisher: String!,\n        $published_year: Int!) {\n        updateBook(\n        id: $id,\n        isbn: $isbn,\n        title: $title,\n        author: $author,\n        description: $description,\n        publisher: $publisher,\n        published_year: $published_year) {\n            updated_date\n        }\n    }\n"]);return O=function(){return e},e}var j=h()(O()),$=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a,n,l,o,i=this;return r.a.createElement(E.b,{mutation:j,key:this.props.book._id},function(c,u){var s=u.loading,m=u.error;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{onSubmit:function(r){r.preventDefault(),c({variables:{id:i.props.book._id,isbn:e.value,title:t.value,author:a.value,description:n.value,publisher:o.value,published_year:parseInt(l.value)}}),e.value="",t.value="",a.value="",n.value="",o.value=null,l.value=""}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"isbn"},"ISBN:"),r.a.createElement("input",{type:"text",className:"form-control",name:"isbn",ref:function(t){e=t},placeholder:"ISBN",defaultValue:i.props.book.isbn})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title:"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",ref:function(e){t=e},placeholder:"Title",defaultValue:i.props.book.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Author:"),r.a.createElement("input",{type:"text",className:"form-control",name:"author",ref:function(e){a=e},placeholder:"Author",defaultValue:i.props.book.author})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description:"),r.a.createElement("textarea",{className:"form-control",name:"description",ref:function(e){n=e},placeholder:"Description",cols:"80",rows:"3",defaultValue:i.props.book.description})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Publisher:"),r.a.createElement("input",{type:"text",className:"form-control",name:"publisher",ref:function(e){o=e},placeholder:"Publisher",defaultValue:i.props.book.publisher})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Published Year:"),r.a.createElement("input",{type:"number",className:"form-control",name:"published_year",ref:function(e){l=e},placeholder:"Published Year",defaultValue:i.props.book.published_year})),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")),s&&r.a.createElement("p",null,"Loading..."),m&&r.a.createElement("p",null,"Error :( Please try again"))))})}}]),t}(n.Component);function w(){var e=Object(p.a)(["\n  mutation removeBook($id: String!) {\n    removeBook(id:$id) {\n      _id\n    }\n  }\n"]);return w=function(){return e},e}function S(){var e=Object(p.a)(["\n  {\n    books {\n      _id\n      isbn\n      title\n      author\n      description\n      published_year\n      publisher\n      updated_date\n    }\n  }\n"]);return S=function(){return e},e}var _=h()(S()),B=h()(w()),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={book:!1,status:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getComponent",value:function(){return"show"===this.state.status?r.a.createElement(k,{book:this.state.book}):"edit"===this.state.status?r.a.createElement($,{book:this.state.book}):r.a.createElement(N,null)}},{key:"getRandomColor",value:function(){return["primary","success","info","warning","danger","secondary","dark"][Math.floor(6*Math.random())]}},{key:"render",value:function(){var e=this;return r.a.createElement(E.c,{pollInterval:500,query:_},function(t){var a=t.loading,n=t.error,l=t.data;return a?"Loading...":n?"Error! ".concat(n.message):r.a.createElement("div",{className:"container-fluid h-100"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-8 bg-dark"},l.books.map(function(t,a){return r.a.createElement("div",{key:a,className:"m-2 btn btn-"+e.getRandomColor()},r.a.createElement(E.b,{mutation:B,key:t._id},function(e,a){var n=a.loading,l=a.error;return r.a.createElement(d.b,{className:"text-white p-2 ",onClick:function(a){a.preventDefault(),e({variables:{id:t._id}})}},r.a.createElement(f.c,null),n&&r.a.createElement("p",null,"Loading..."),l&&r.a.createElement("p",null,"Error :( Please try again"))}),r.a.createElement(d.b,{className:"text-white text-decoration-none p-2",title:"click to show",onClick:function(){e.setState({book:t,status:"show"})}},t.title),r.a.createElement(d.b,{className:"text-white p-2",onClick:function(){e.setState({book:t,status:"edit"})}},r.a.createElement(f.a,null)))}),r.a.createElement(d.b,{className:"ml-5 mb-5",id:"addNew",onClick:function(){e.setState({book:!1,status:!1})}},r.a.createElement(f.b,null))),r.a.createElement("div",{className:"col-4 bg-info"},r.a.createElement(v,{headerTitle:e.state.status}),e.getComponent())))})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(46),D=a(21),P=new I.a({uri:"/graphql"}),C=r.a.createElement(E.a,{client:P},r.a.createElement(d.a,null,r.a.createElement(D.a,{exact:!0,path:"/",component:x})));o.a.render(C,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.46abf222.chunk.js.map